CREATE TABLE IF NOT EXISTS person
(
    id           int                 NOT NULL primary key generated by default as identity,
    username     varchar(128) UNIQUE NOT NULL,
    email        varchar(255) UNIQUE NOT NULL,
    is_confirmed bool                NOT NULL DEFAULT false,
    role         varchar             NOT NULL,
    password     varchar             NOT NULL,
    created_at   timestamp           NOT NULL DEFAULT now()
);

CREATE TABLE IF NOT EXISTS article
(
    id         int          NOT NULL primary key generated by default as identity,
    person_id  int          NOT NULL REFERENCES person (id) on delete cascade,
    name       varchar(200) NOT NULL,
    text       varchar      NOT NULL,
    created_at timestamp    NOT NULL default now()
);

CREATE TABLE IF NOT EXISTS comment
(
    id         int          NOT NULL primary key generated by default as identity,
    person_id  int          not null references person (id) on delete cascade,
    article_id int          not null references article (id) on delete cascade,
    text       varchar(200) not null,
    created_at timestamp    not null default now()
);